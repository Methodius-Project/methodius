<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_01) on Fri Apr 20 14:23:38 BST 2007 -->
<TITLE>
DataStore
</TITLE>

<META NAME="date" CONTENT="2007-04-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataStore";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DataStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../uk/ac/ed/methodius/CPPrinter.html" title="class in uk.ac.ed.methodius"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../uk/ac/ed/methodius/Entity.html" title="class in uk.ac.ed.methodius"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?uk/ac/ed/methodius/DataStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DataStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
uk.ac.ed.methodius</FONT>
<BR>
Class DataStore</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>uk.ac.ed.methodius.DataStore</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DataStore</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
handles the database loading, content potential creation and
 retrieval of objects and limited content potential webs.
 The DataStore stores all objects as HashMaps rather than
 using standard serialization, the mechanism for this uses
 standard APIs from sleepycat which are more efficient. The
 storage method requires two DBs:
 one for the objects and one for the class info to be stored.
 In addition to the database storing objects, there is also a
 <code>definitionDB<code> used to store aditional information
 such as object definitions and predicate significances.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#DataStore(uk.ac.ed.methodius.Configuration)">DataStore</A></B>(<A HREF="../../../../uk/ac/ed/methodius/Configuration.html" title="class in uk.ac.ed.methodius">Configuration</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a DataStore from a configuration which
 contains all necessary info.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#createCP()">createCP</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create the content potential after the raw data has been loaded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../uk/ac/ed/methodius/Entity.html" title="class in uk.ac.ed.methodius">Entity</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getEntity(java.lang.String)">getEntity</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get a single entity by name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getExpressionSignificances()">getExpressionSignificances</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retrieve the expression significance table from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../uk/ac/ed/methodius/Fact.html" title="class in uk.ac.ed.methodius">Fact</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getFact(java.lang.String)">getFact</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get a single Fact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getNpSignificances()">getNpSignificances</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retrieve the np significance table from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getPredicateSignificances()">getPredicateSignificances</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retrieve the predicate significance table from the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../uk/ac/ed/methodius/UserModel.html" title="class in uk.ac.ed.methodius">UserModel</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#getUserModel(java.lang.String)">getUserModel</A></B>(java.lang.String&nbsp;userTypeName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set up a database environment, open the main and class databases
 and set up the data binding for doing serialization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#isInDb(java.lang.String)">isInDb</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check is a named object exists in the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#listDB(java.io.PrintStream)">listDB</A></B>(java.io.PrintStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print all objects in the DB</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#load()">load</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load the DB from the various XML files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#loadDefs()">loadDefs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load the object definitions into the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#loadSigs()">loadSigs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load the significance table into the DB
 from XML file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#loadTypes()">loadTypes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load the type hierarchy into the DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uk/ac/ed/methodius/DataStore.html#loadUserTypes()">loadUserTypes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load the user types into the DB
 from XML file.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DataStore(uk.ac.ed.methodius.Configuration)"><!-- --></A><H3>
DataStore</H3>
<PRE>
public <B>DataStore</B>(<A HREF="../../../../uk/ac/ed/methodius/Configuration.html" title="class in uk.ac.ed.methodius">Configuration</A>&nbsp;c)</PRE>
<DL>
<DD>create a DataStore from a configuration which
 contains all necessary info. Values are taken from the configuration
 for the log object, name of the directory to store the databases in,
 the name to use for the database, the class database (used for flattening)
 and the name for the definitions database.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - Configuration Object</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>()
          throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>set up a database environment, open the main and class databases
 and set up the data binding for doing serialization.
 Must be called before DB is accessed and can only be called once.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isInDb(java.lang.String)"><!-- --></A><H3>
isInDb</H3>
<PRE>
public boolean <B>isInDb</B>(java.lang.String&nbsp;name)
               throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>check is a named object exists in the DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - 
<DT><B>Returns:</B><DD>true if named object exists in DB
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getEntity(java.lang.String)"><!-- --></A><H3>
getEntity</H3>
<PRE>
public <A HREF="../../../../uk/ac/ed/methodius/Entity.html" title="class in uk.ac.ed.methodius">Entity</A> <B>getEntity</B>(java.lang.String&nbsp;id)
                 throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>get a single entity by name. After retrieval the facts are
 just a list of Strings.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the database id of the object
<DT><B>Returns:</B><DD>entity or null if not found.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPredicateSignificances()"><!-- --></A><H3>
getPredicateSignificances</H3>
<PRE>
public java.util.Map <B>getPredicateSignificances</B>()
                                        throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>retrieve the predicate significance table from the DB.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Map of predicate:type -> signifcances.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getExpressionSignificances()"><!-- --></A><H3>
getExpressionSignificances</H3>
<PRE>
public java.util.Map <B>getExpressionSignificances</B>()
                                         throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>retrieve the expression significance table from the DB.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Map of expression -> signifcances.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getNpSignificances()"><!-- --></A><H3>
getNpSignificances</H3>
<PRE>
public java.util.Map <B>getNpSignificances</B>()
                                 throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>retrieve the np significance table from the DB.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Map of np -> signifcances.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFact(java.lang.String)"><!-- --></A><H3>
getFact</H3>
<PRE>
public <A HREF="../../../../uk/ac/ed/methodius/Fact.html" title="class in uk.ac.ed.methodius">Fact</A> <B>getFact</B>(java.lang.String&nbsp;name)
             throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>get a single Fact. After retrieval the args are just Strings.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - of fact
<DT><B>Returns:</B><DD>Fact or null is not found.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listDB(java.io.PrintStream)"><!-- --></A><H3>
listDB</H3>
<PRE>
public void <B>listDB</B>(java.io.PrintStream&nbsp;out)
            throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></PRE>
<DL>
<DD>print all objects in the DB
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>out</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createCP()"><!-- --></A><H3>
createCP</H3>
<PRE>
public void <B>createCP</B>()
              throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>create the content potential after the raw data has been loaded.
 Takes an object which has an attribute A with value V and creates
 a new fact with predicate A, arg1 takes the name of the original object
 and arg2 has the value V. The pairing (A,V) in the original object gets
 replaced by the name of the new fact. For example,
 <p>
 <code>
 exhibit23 <br>
 original-location: attica
 current-location: getty-california
 </code>
 <p>
 becomes
 <p>
 <code>
 Exhibit23<br>
 Facts: fact_232,fact_233
 <p>
 fact_232
 predicate: original-location
 arg1: exhibit23
 arg2: attica
 <p>
 fact_233
 predicate: current-location
 arg1: exhibit23
 arg2: getty-cailifornia
 <p>
 The treatment of preedicates gives special meaning to five predicates:
 type, name, shortname, gender, number and generic which are assumed to be strings.
 Anything else is either the name of an entity in the DB or it's the id
 of a string stored in the OpenCCG grammar.

 This is the mechanism used for proer names and canned text.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadDefs()"><!-- --></A><H3>
loadDefs</H3>
<PRE>
public void <B>loadDefs</B>()
              throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>load the object definitions into the DB.
 They are stored under the object type name.
 Loaded from an XML file.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadTypes()"><!-- --></A><H3>
loadTypes</H3>
<PRE>
public void <B>loadTypes</B>()
               throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>load the type hierarchy into the DB.
 They are stored under the object type name.
 Loaded from an XML file.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadSigs()"><!-- --></A><H3>
loadSigs</H3>
<PRE>
public void <B>loadSigs</B>()
              throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>load the significance table into the DB
 from XML file.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadUserTypes()"><!-- --></A><H3>
loadUserTypes</H3>
<PRE>
public void <B>loadUserTypes</B>()
                   throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>load the user types into the DB
 from XML file.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getUserModel(java.lang.String)"><!-- --></A><H3>
getUserModel</H3>
<PRE>
public <A HREF="../../../../uk/ac/ed/methodius/UserModel.html" title="class in uk.ac.ed.methodius">UserModel</A> <B>getUserModel</B>(java.lang.String&nbsp;userTypeName)
                       throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A>,
                              <A HREF="../../../../uk/ac/ed/methodius/Exceptions/UnknownUserTypeException.html" title="class in uk.ac.ed.methodius.Exceptions">UnknownUserTypeException</A>,
                              org.jdom.JDOMException,
                              java.io.IOException,
                              <A HREF="../../../../uk/ac/ed/methodius/Exceptions/PredicateFormException.html" title="class in uk.ac.ed.methodius.Exceptions">PredicateFormException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/DataStoreException.html" title="class in uk.ac.ed.methodius.Exceptions">DataStoreException</A></CODE>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/UnknownUserTypeException.html" title="class in uk.ac.ed.methodius.Exceptions">UnknownUserTypeException</A></CODE>
<DD><CODE>org.jdom.JDOMException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/PredicateFormException.html" title="class in uk.ac.ed.methodius.Exceptions">PredicateFormException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="load()"><!-- --></A><H3>
load</H3>
<PRE>
public void <B>load</B>()
          throws <A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></PRE>
<DL>
<DD>load the DB from the various XML files. First load the object structure
 definitions, then the predicate significance table
 then the objects themselves.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../uk/ac/ed/methodius/Exceptions/LoadException.html" title="class in uk.ac.ed.methodius.Exceptions">LoadException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DataStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../uk/ac/ed/methodius/CPPrinter.html" title="class in uk.ac.ed.methodius"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../uk/ac/ed/methodius/Entity.html" title="class in uk.ac.ed.methodius"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?uk/ac/ed/methodius/DataStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DataStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
